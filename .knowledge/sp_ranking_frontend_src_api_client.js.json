{"is_source_file": true, "format": "JavaScript", "description": "This file defines a set of functions for interacting with a backend API related to a stock ranking or analysis system. It includes functions for health checks, fetching symbols and sectors, triggering ranking runs, checking run status, retrieving latest rankings, and exporting results.", "external_files": ["fetch", "URLSearchParams", "process.env"], "external_methods": ["fetch"], "published": ["getHealth", "getSymbols", "postRun", "getStatus", "getLatest", "exportRun"], "classes": [], "methods": [{"name": "http(path, options = {})", "description": "Internal helper function to perform HTTP requests with fetch, handling responses and errors.", "scope": "", "scopeKind": ""}, {"name": "getHealth()", "description": "Checks backend health status, returning JSON with status or an error object.", "scope": "", "scopeKind": ""}, {"name": "getSymbols()", "description": "Fetches available symbols and sectors from backend.", "scope": "", "scopeKind": ""}, {"name": "postRun(formula_mode = 'both', options = {})", "description": "Triggers a ranking run on the backend with specified mode and options.", "scope": "", "scopeKind": ""}, {"name": "getStatus(run_id)", "description": "Retrieves the status and progress of a specific run by run_id.", "scope": "", "scopeKind": ""}, {"name": "getLatest(params = {})", "description": "Fetches latest ranking results with optional filtering and pagination.", "scope": "", "scopeKind": ""}, {"name": "exportRun(run_id, format = 'excel')", "description": "Generates a URL to download export data for a specific run in specified format.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "http('/health', { method: 'GET' })", "http('/symbols', { method: 'GET' })", "http('/rankings/run', { method: 'POST', body: JSON.stringify({ formula_mode, options }) })", "http(`/rankings/status${qp}`, { method: 'GET' })", "http(`/rankings/latest${query}`, { method: 'GET' })"], "search-terms": ["API client", "ranking", "symbols", "backend health", "export", "fetch request", "ranking run", "status check", "latest rankings"], "state": 2, "file_id": 13, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^const BASE_URL = (process.env.REACT_APP_BACKEND_BASE_URL || '').replace(\\/\\\\\\/+$\\/, '');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^      'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "http.opts.headers", "scopeKind": "class"}, {"_type": "tag", "name": "exportRun", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^export function exportRun(run_id, format = 'excel') {$/", "language": "JavaScript", "kind": "function", "signature": "(run_id, format = 'excel')"}, {"_type": "tag", "name": "getHealth", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^export async function getHealth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getLatest", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^export async function getLatest(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "getStatus", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^export async function getStatus(run_id) {$/", "language": "JavaScript", "kind": "function", "signature": "(run_id)"}, {"_type": "tag", "name": "getSymbols", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^export async function getSymbols() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^    headers: {$/", "language": "JavaScript", "kind": "class", "scope": "http.opts", "scopeKind": "class"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^async function http(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "opts", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^  const opts = {$/", "language": "JavaScript", "kind": "class", "scope": "http", "scopeKind": "class"}, {"_type": "tag", "name": "postRun", "path": "/home/kavia/workspace/code-generation/sp-performance-analysis-and-ranking-176402-176411/sp_ranking_frontend/src/api/client.js", "pattern": "/^export async function postRun(formula_mode = 'both', options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(formula_mode = 'both', options = {})"}], "hash": "f3de849dfbd485489a37bb02911f2f26", "format-version": 4, "code-base-name": "sp_ranking_frontend", "filename": "sp_ranking_frontend/src/api/client.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "http.opts.headers", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}